<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="styles/reset.css">
	<title>VallyTool</title>
	<style>
		.botoes-menu li:nth-child(1) {
			width: 150px;
		}
	</style>
	<link rel="stylesheet" href="styles/prof_sop.css">
	<link rel="stylesheet" href="styles/professor.css" sec:authorize="hasRole('PROFESSOR')">
	<link rel="stylesheet" href="styles/sop.css" sec:authorize="hasRole('SOP')">
</head>

<!-- PROFESSOR -->

<body>
	<header sec:authorize="isAuthenticated()" th:replace="common/base::cabecalho_logado"></header>
	<div sec:authorize="hasRole('PROFESSOR')" class="main">
		<div class="tela">
			<div th:replace="common/base::menu_prof"></div>
			<div class="aba">
				<div>
					<h1>Bem-Vindo ao VallyTool</h1>
					<p>Comece já a avaliar suas turmas</p>
					<a href="/avaliar"><button class="avaliar-turma-botao">Avaliar Turmas</button></a>
					<ul class="turmas-nao-avaliadas"></ul>
				</div>
				<footer>
					<strong>3º Trimestre</strong>
				</footer>
			</div>
		</div>
	</div>
	<!-- SOP -->
	<div class="main" sec:authorize="hasRole('SOP')">
		<div class="tela">
			<div th:replace="common/base::menu_sop"></div>
			<div class="aba">
				<form class="pesquisar-form">
					<input type="text" placeholder="Buscar Turma" class="pesquisar-input">
					<button class="pesquisar-botao"></button>
				</form>
				<div class="lista-div">
					<div th:each="usuario: ${usuarios}" class="item-div">
						<span th:text="${usuario.getNome()}" class="nome">João Fragoso</span>
						<span th:text="${usuario.getAuthority()}" class="cargo">Prof</span>
						<button class="editar-botao" onclick="abrirTela('')"></button>
					</div>
				</div>
				<button class="cadastrar-botao" onclick="abrirTela('')">Cadastrar Usuário</button>
			</div>
		</div>
	</div>
	</div>
</body>
<script src="modules/menu.js"></script>
<script>
	const spanCargoArray = document.querySelectorAll(".item-div .cargo");
	
	window.addEventListener("resize", cargoResponsivo);
	
	function cargoResponsivo() {
		const larguraJanela = window.innerWidth;
		if (larguraJanela < 800) {
			spanCargoArray.forEach(function(element) {
				if(element.innerHTML == "Professor") {element.innerHTML = "Prof"}
			});
		} else {
			spanCargoArray.forEach(function(element) {
				if(element.innerHTML == "Prof") {element.innerHTML = "Professor"}
			});
		}
	}
</script>
</html>