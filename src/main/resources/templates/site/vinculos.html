<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/styles/reset.css">
	<title>VallyTool</title>
	<link rel="stylesheet" href="/styles/common.css">
	<style>
		.botoes-menu li:nth-child(1) {
			width: 150px;
		}
		.aba {
			display: grid;
			grid-template-rows: max-content max-content auto;
			flex-direction: column;
			row-gap: 20px;
			justify-content: initial;
			padding-bottom: 20px;
		}
		
		.aba-selecionada {
			position: relative;
			width: 200px;
			height: 2.5em;
			justify-self: center;
			background-color: #0C90F0;
			border-radius: 0 0 6px 6px;
			color: white;
			font-weight: 300;
			font-size: 18px;
			text-align: center;
			line-height: 2.5em;
			cursor: pointer;
		}
		.aba-selecionada img {
			position: absolute;
			top: 50%;
			left: 10px;
			transform: translatey(-50%);
			height: 60%;
			filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(310deg) brightness(104%) contrast(101%);
		}
        .aba-selecionada::after {
            content: '';
            position: absolute;
            background: transparent url(/images/rotate-solid.svg) no-repeat center;
            top: 50%;
            transform: translateY(-50%);
            right: 10px;
            opacity: 0.5;
            height: 20px;
            width: 20px;
        }
        
        .etapas {
			width: 180px;
			height: 2.5em;
			display: flex;
			justify-content: space-between;
			justify-self: center;
		}
		.etapa-botao {
			width: 48%;
			height: 100%;
			border-radius: 2px;
			line-height: 2.5em;
			text-align: center;
			font-weight: 300;
			box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.25), inset 1px 1px 4px rgba(0, 0, 0, 0.25);
		}
		.etapa-botao.selecionado {
			background-color: rgba(12, 144, 240, 0.8);
			color: white;
		}
		.lista-div {
			margin-top: 40px;
			display: flex;
			flex-direction: column;
			row-gap: 8px;
		}
        .item-div {
			position: relative;
			width: 140px;
			height: 2.1em;
			background-color: #0C90F0;
			border-radius: 0 4px 4px 0;
			color: white;
			font-size: 18px;
			font-weight: 300;
			line-height: 2em;
			text-align: center;
			box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.25);
		}
		.novo-item {
			background-color: #2FC891;
			cursor: pointer;
		}
		
		.modal-vincular {
			z-index: 100;
			position: absolute;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.4);
			display: flex;
			justify-content: center;
			align-items: center; 
		}
		.modal-vincular form {
			position: relative;
			width: 300px;
			height: 460px;
			padding: 15px 0;
			box-sizing: border-box;
			box-shadow: 0px 0px 1px 1px rgba(0, 0, 0, 0.25);
			background-color: white;
			border-radius: 6px;
			display: grid;
			justify-items: center;
			grid-template-rows: max-content auto max-content;
			row-gap: 60px;
			font-weight: 300;
		}
		.modal-vincular form .lista-div {
			height: 100%;
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			box-sizing: border-box;
			padding-right: 10px;
			overflow: auto;
			margin: 0;
		}
		.modal-vincular form .item-div {
			border-radius: 4px;
		}
		.titulo-form {
			font-size: 20px;
		}
		.label1 {
			border-radius: 0 4px 4px 0;
		}
	</style>
	<link rel="stylesheet" href="/styles/estrutura.css">
</head>
<body>
	<header th:replace="common/base::cabecalho_logado"></header>
	<div class="main">
		<div class="tela">
			<div th:replace="common/base::menu_sop"></div>
			<div class="aba">
				<a th:href="@{dados(id=${usuario.getId()})}" class="aba-selecionada"><img src="/images/link-solid.svg">VÃ­nculos</a>
				<a href="inicio" class="fechar-botao"></a>
				<div class="etapas">
					<div class="etapa-botao selecionado">Turmas</div>
					<div class="etapa-botao">Disciplinas</div>
				</div>
				<div class="lista-div">
					<div class="novo-item item-div" onclick="abrirJanela('modal-vincular')">Vincular</div>
					<div class="item-div">350</div>
					<div class="item-div">330</div>
					<div class="item-div">150</div>
				</div>
			</div>
		</div>
		<div th:if="${param.error}" th:replace="common/base::aviso"></div>
	</div>
	<div class="modal-vincular oculto" id="modal-vincular" onclick="this.classList.add('oculto')">
		<form th:action="@{/usuarios/vinculos}" method="post" onclick="event.stopPropagation()">
			<span class="titulo-form">Vincular Turmas</span>
			<div class="lista-div">
				<label th:each="turmaUsuario: ${turmasUsuario}"class="label1 item-div" th:for="'turma' + ${turmaUsuario.getCodigo()}">
					<input type="checkbox" checked class="checkbox1" name="turmas" th:id="'turma' + ${turmaUsuario.getCodigo()}" th:value="${turmaUsuario.getCodigo()}">
					<th:block th:utext="${turmaUsuario.getCodigo()}">
				</label>
				<label th:each="turma: ${turmas}"class="label1 item-div" th:for="'turma' + ${turma.getCodigo()}">
					<input type="checkbox" class="checkbox1" name="turmas" th:id="'turma' + ${turma.getCodigo()}" th:value="${turma.getCodigo()}">
					<th:block th:utext="${turma.getCodigo()}">
				</label>
				<input style="display:none" name="id" th:value="${usuario.getId()}">
			</div>
			<button class="botao-verde">Vincular</button>
		</form>
	</div>
</body>
<script src="/modules/janelaFunctions.js"></script>
</html>